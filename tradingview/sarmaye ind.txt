// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// Â© arminkazimi

//@version=5
indicator(title="Sarmayeexchange indicator",overlay=true)

long_term = input.int(99,title="long-term",tooltip="long term ema")
med_term = input.int(25,title="med-term",tooltip="med term ema")
short_term = input.int(9,title="shord-term",tooltip="short term ema")

long_ema = ta.ema(close,long_term)
med_ema = ta.ema(close,med_term)
short_ema = ta.ema(close,short_term)

plot(long_ema ,color=color.gray,title="Long term EMA")
plot(med_ema,color=color.olive, title="Med term EMA")
plot(short_ema,color=color.orange, title="Short term EMA")
buy_long= false
close_long= false
sell_short= false
close_short= false

// for LONG
if close > long_ema
    if short_ema[2] < med_ema[2] and short_ema[1] > med_ema[1]
        buy_long := true

    if short_ema[2] > med_ema[2] and short_ema[1] < med_ema[1]
        close_long := true

// for SHORT
if close < long_ema
    if short_ema[2] > med_ema[2] and short_ema[1] < med_ema[1]
        sell_short := true
    
    if short_ema[2] < med_ema[2] and short_ema[1] > med_ema[1]
        close_short := true
   
alertcondition(buy_long, title="open long",message="open long position")
alertcondition(close_long, title="close long",message="close long position")
alertcondition(sell_short, title="open short",message="open short position")
alertcondition(close_short, title="close short",message="close shortclose position")